version: "1.0"
description: "Permission policy for docker container"
permissions:
  storage:
    allow:
    - uri: "fs://work/agent/**"
      access: ["read", "write"]
    - uri: "fs://work/agent/config.yaml"
      access: ["read"]
    deny:
      
  network:
    allow:
      - host: "api.openai.com"
      - host: "*.internal.myorg.com"
      - cidr: "10.0.0.0/8"
    deny:
      
  environment:
    allow:
      - key: "PATH"
      - key: "HOME"

  runtime:
    docker:
      security:
        privileged: false
        no_new_privileges: true
        capabilities:
          drop: ["ALL"]
          add: ["NET_BIND_SERVICE"]
        security_opt:
          - "no-new-privileges:true"
          - "seccomp:default"
          - "apparmor:docker-default"
    hyperlight: 
      # future
      
      
  # resources:
  # cpu (percentage), memory (mb), io (iops)
  
  # ipc:
  #   allow:
  #   - uri: "pipe://myservice"
  